<!DOCTYPE html>
<html>
    <head>
        <title>Document Q & A</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                background-color: #f5f5f5;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
            }
            h1 {
                color: #333;
            }
            .chat-box {
                background-color: white;
                border-radius: 8px;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
                padding: 20px;
                text-align: center;
                width: 60%;
            }
            textarea {
                width: 100%;
                border: 1px solid #ddd;
                padding: 10px;
                border-radius: 4px;
                margin-bottom: 10px;
                resize: none;
            }
            .btn {
                border: 2px solid gray;
                color: gray;
                background-color: white;
                padding: 8px 20px;
                border-radius: 8px;
                font-size: 1.2em;
                font-weight: bold;
                text-decoration: none;
            }
            .btn:hover {
                background-color: gray;
                color: white;
            }
            #processing {
                display: none;
                margin: 10px 0;
            }
        </style>
    </head>
    <body>
        <div class="chat-box">
            <h1>Ask a Question</h1>
            <form id="queryForm" action="/ask" method="post">
                <input type="hidden" name="filename" value="{{filename}}">
                <textarea name="question" rows="4" placeholder="Enter your question here">{{question}}</textarea>
                <textarea disabled rows="4" placeholder="Response will appear here">{{answer}}</textarea><br><br>
                <input class="btn" type="submit" value="Submit">
                <a href="/" class="btn">Reset</a>
            </form>
            <div id="processing">
                <p>Processing... <span id="seconds">0</span> seconds</p>
            </div>
        </div>
        <script>
            var processing = document.getElementById('processing');
            var secondsSpan = document.getElementById('seconds');
            var counter = 0;
            document.getElementById('queryForm').onsubmit = function() {
                processing.style.display = 'block';
                counter = 0;
                incrementSeconds();
            };
            function incrementSeconds() {
                secondsSpan.innerText = counter++;
                if (processing.style.display === 'block') {
                    setTimeout(incrementSeconds, 1000);
                }
            }
        </script>
    </body>
</html>